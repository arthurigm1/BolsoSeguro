<div class="min-h-screen bg-gradient-to-r from-white to-[#b6c6cc] p-8">
  <!-- Cabeçalho -->
  <header
    class="bg-gray-100 rounded-xl shadow-lg p-6 mb-8 flex flex-col md:flex-row justify-between items-center"
  >
    <div class="mb-4 md:mb-0">
      <h1 class="text-3xl font-bold text-black">Olá, {{ nome }}!</h1>
      <p class="text-sm text-black mt-1">
        Gerencie suas finanças de forma inteligente.
      </p>
    </div>
    <div
      class="bg-white p-6 rounded-lg shadow-lg shadow-[#b6c6cc] w-full md:w-auto"
    >
      <h2 class="text-lg font-semibold text-gray-800 mb-4">Acesso Rápido</h2>
      <ul class="flex flex-col md:flex-row md:space-x-6 space-y-4 md:space-y-0">
        <!-- Despesa -->
        <li>
          <a
            (click)="openModal('Despesa')"
            class="flex items-center space-x-2 text-[#ff6b6b] hover:text-[#ff5252] transition-colors cursor-pointer"
          >
            <i class="fas fa-minus-circle text-xl"></i>
            <span class="font-medium">DESPESA</span>
          </a>
        </li>
        <!-- Receita -->
        <li>
          <a
            (click)="openModal('Receita')"
            class="flex items-center space-x-2 text-[#4caf50] hover:text-[#388e3c] transition-colors cursor-pointer"
          >
            <i class="fas fa-plus-circle text-xl"></i>
            <span class="font-medium">RECEITA</span>
          </a>
        </li>
        <!-- Transferência -->
        <li>
          <a
            (click)="openModal('Transferência')"
            class="flex items-center space-x-2 text-[#2196f3] hover:text-[#1976d2] transition-colors cursor-pointer"
          >
            <i class="fas fa-exchange-alt text-xl"></i>
            <span class="font-medium">TRANSF.</span>
          </a>
        </li>
      </ul>
    </div>
  </header>

  <!-- Modal -->
  <div
    *ngIf="isModalOpen"
    class="fixed inset-0 bg-opacity-50 backdrop-blur-md flex items-center justify-center p-4 z-50"
  >
    <div class="bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden">
      <!-- Cabeçalho do Modal -->
      <div
        class="flex justify-between items-center p-6 bg-gradient-to-r from-gray-200 to-[#b6c6cc]"
      >
        <h3 class="text-xl font-semibold text-black">{{ modalTitle }}</h3>
        <button
          (click)="closeModal()"
          class="text-black hover:text-gray-200 transition-colors cursor-pointer"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Corpo do Modal -->
      <div class="p-6">
        <!-- Formulário de Despesa -->
        <form
          *ngIf="modalType === 'Despesa'"
          #despesaForm="ngForm"
          (ngSubmit)="submitDespesa()"
          class="space-y-5"
        >
          <!-- Campo Valor -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Valor</label
            >
            <input
              type="number"
              [(ngModel)]="despesa.valor"
              name="valor"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            />
          </div>

          <!-- Campo Data -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Data</label
            >
            <input
              type="date"
              [(ngModel)]="despesa.data"
              name="data"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            />
          </div>

          <!-- Campo Categoria -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Categoria</label
            >
            <select
              [(ngModel)]="despesa.categoria"
              name="categoria"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            >
              <option
                *ngFor="let categoria of categoriasDespesas"
                [value]="categoria.id"
              >
                {{ categoria.nome }}
              </option>
            </select>
          </div>

          <!-- Campo Conta -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Conta</label
            >
            <select
              [(ngModel)]="despesa.contaId"
              name="contaId"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            >
              <option *ngFor="let conta of contas" [value]="conta.id">
                {{ conta.nome }}
              </option>
            </select>
          </div>

          <!-- Campo Descrição -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Descrição</label
            >
            <textarea
              [(ngModel)]="despesa.descricao"
              name="descricao"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              rows="3"
            ></textarea>
          </div>
          <div class="flex justify-end p-6 border-t">
            <button
              type="button"
              (click)="closeModal()"
              class="px-6 py-2 text-gray-600 hover:text-gray-800 bg-transparent hover:bg-gray-100 rounded-lg transition-colors cursor-pointer"
            >
              Cancelar
            </button>
            <button
              type="submit"
              class="ml-4 px-6 py-2 bg-black text-white hover:bg-[#b6c6cc] rounded-lg transition-colors cursor-pointer"
            >
              Salvar
            </button>
          </div>
        </form>

        <!-- Formulário de Receita -->
        <form
          *ngIf="modalType === 'Receita'"
          (ngSubmit)="submitReceita()"
          class="space-y-5"
        >
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Valor</label
            >
            <input
              type="number"
              [(ngModel)]="receita.valor"
              name="valor"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Data</label
            >
            <input
              type="date"
              [(ngModel)]="receita.data"
              name="data"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Categoria</label
            >
            <select
              [(ngModel)]="receita.categoria"
              name="categoria"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            >
              <option
                *ngFor="let categoria of categoriasReceitas"
                [value]="categoria.id"
              >
                {{ categoria.nome }}
              </option>
            </select>
          </div>

          <!-- Campo Conta -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Conta</label
            >
            <select
              [(ngModel)]="receita.contaId"
              name="contaId"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            >
              <option *ngFor="let conta of contas" [value]="conta.id">
                {{ conta.nome }}
              </option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Descrição</label
            >
            <textarea
              [(ngModel)]="receita.descricao"
              name="descricao"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              rows="3"
            ></textarea>
          </div>
          <div class="flex justify-end p-6 border-t">
            <button
              type="button"
              (click)="closeModal()"
              class="px-6 py-2 text-gray-600 hover:text-gray-800 bg-transparent hover:bg-gray-100 rounded-lg transition-colors cursor-pointer"
            >
              Cancelar
            </button>
            <button
              type="submit"
              class="ml-4 px-6 py-2 bg-black text-white hover:bg-[#b6c6cc] rounded-lg transition-colors cursor-pointer"
            >
              Salvar
            </button>
          </div>
        </form>

        <!-- Formulário de Transferência -->
        <form
          *ngIf="modalType === 'Transferência'"
          (ngSubmit)="submitTransferencia()"
          class="space-y-5"
        >
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Valor</label
            >
            <input
              type="number"
              [(ngModel)]="transferencia.valor"
              name="valor"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Data</label
            >
            <input
              type="date"
              [(ngModel)]="transferencia.data"
              name="data"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
              required
            />
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Resumo Financeiro -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <!-- Saldo Atual -->
    <div
      class="bg-gray-100 rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow"
    >
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-lg font-semibold text-gray-700">Saldo Atual</h2>
          <p class="text-2xl font-bold text-gray-900 mt-2">{{ saldo }}</p>
        </div>
        <div class="bg-gray-300 p-3 rounded-full">
          <i
            class="fas fa-money-bill-wave text-black text-2xl"
            aria-hidden="true"
          ></i>
        </div>
      </div>
    </div>
    <!-- Receita Mensal -->
    <div
      class="bg-gray-100 rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow"
    >
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-lg font-semibold text-gray-700">Receita Mensal</h2>
          <p class="text-2xl font-bold text-[#4caf50] mt-2">
            R$ {{ totalReceitas }}
          </p>
        </div>
        <div class="bg-green-100 p-3 rounded-full">
          <i class="fas fa-arrow-up text-green-600 text-xl"></i>
        </div>
      </div>
    </div>
    <!-- Despesa Mensal -->
    <div
      class="bg-gray-100 rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow"
    >
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-lg font-semibold text-gray-700">Despesa Mensal</h2>
          <p class="text-2xl font-bold text-[#ff6b6b] mt-2">
            R$ {{ totalDespesas }}
          </p>
        </div>
        <div class="bg-red-100 p-3 rounded-full">
          <i class="fas fa-arrow-down text-red-600 text-xl"></i>
        </div>
      </div>
    </div>

    <div
      class="bg-gray-100 rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow"
    >
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-lg font-semibold text-gray-700">Investimentos</h2>
          <p class="text-2xl font-bold text-[#9c27b0] mt-2">R$ 8.500,00</p>
        </div>
        <div class="bg-purple-200 p-3 rounded-full">
          <i class="fas fa-chart-line text-purple-600 text-2xl"></i>
        </div>
      </div>
    </div>

    <div
      class="bg-gray-100 rounded-xl shadow-sm p-6 flex flex-col justify-between h-full"
    >
      <h2 class="text-xl font-semibold text-gray-900 mb-6">Minhas Contas</h2>
      <ul class="flex-1">
        <li
          *ngFor="let account of accounts"
          class="flex items-center justify-between mb-4 p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow"
        >
          <div class="flex items-center">
            <!-- Ícone do FontAwesome -->
            <i class="fas fa-wallet text-2xl text-blue-500 mr-4"></i>
            <div>
              <p class="text-lg font-semibold text-gray-900">
                {{ account.nome }}
              </p>
            </div>
          </div>
          <div class="text-right">
            <p class="text-lg font-semibold text-gray-900">
              {{ account.saldo | currency : "BRL" : "symbol" : "1.2-2" }}
            </p>
            <p class="text-sm text-gray-500">Saldo disponível</p>
          </div>
        </li>
      </ul>
      <!-- Botão de Gerenciar Contas -->
      <button
        class="mt-6 w-full bg-[#5e6d72] text-white px-4 py-2 rounded-lg hover:bg-[#8a999f] transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"
      >
        Gerenciar Contas
      </button>
    </div>

    <!-- Metas Financeiras -->
    <div
      class="bg-gray-100 rounded-xl shadow-sm p-6 flex flex-col justify-between h-full"
    >
      <h2 class="text-xl font-semibold text-gray-900 mb-6">
        Metas Financeiras
      </h2>
      <div class="space-y-4 flex-grow">
        <!-- Meta 1 -->
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-medium text-gray-800">
              Economizar para Viagem
            </h3>
            <p class="text-sm text-gray-500">R$ 2.000,00 / R$ 5.000,00</p>
          </div>
          <div class="w-1/2 bg-gray-100 rounded-full h-2.5">
            <div
              class="bg-blue-500 h-2.5 rounded-full"
              style="width: 40%"
            ></div>
          </div>
        </div>
        <!-- Meta 2 -->
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-medium text-gray-800">
              Fundo de Emergência
            </h3>
            <p class="text-sm text-gray-500">R$ 1.500,00 / R$ 10.000,00</p>
          </div>
          <div class="w-1/2 bg-gray-100 rounded-full h-2.5">
            <div
              class="bg-green-500 h-2.5 rounded-full"
              style="width: 15%"
            ></div>
          </div>
        </div>
      </div>
      <button
        class="mt-6 w-full bg-[#5e6d72] text-white px-4 py-2 rounded-lg hover:bg-[#8a999f] transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"
      >
        Gerenciar Metas
      </button>
    </div>

    <!-- Últimas Transações -->
    <div class="bg-gray-100 rounded-xl shadow-sm p-6">
      <h2 class="text-xl font-semibold text-gray-900 mb-6">
        Últimas Transações
      </h2>
      <div class="space-y-4">
        <div
          *ngFor="let transacao of transacoes"
          class="flex items-center justify-between"
        >
          <div class="flex items-center">
            <div
              class="p-2.5 rounded-full mr-3"
              [ngClass]="
                transacao.tipoTransacao === 'RECEITA'
                  ? 'bg-green-100'
                  : 'bg-red-100'
              "
            >
              <i
                class="fas"
                [ngClass]="
                  transacao.tipoTransacao === 'RECEITA'
                    ? 'fa-money-bill-wave text-green-600'
                    : 'fa-shopping-cart text-red-600'
                "
              >
              </i>
            </div>
            <div>
              <h3 class="text-lg font-medium text-gray-800">
                {{ transacao.nomeConta }}
              </h3>
              <p class="text-sm text-gray-500">
                {{ transacao.dataTransacao | date : "dd/MM/yyyy" }}
              </p>
            </div>
          </div>
          <strong
            [ngClass]="
              transacao.tipoTransacao === 'RECEITA'
                ? 'text-green-600'
                : 'text-red-600'
            "
          >
            {{ transacao.tipoTransacao === "RECEITA" ? "+" : "-" }} R$
            {{ transacao.valor | number : "1.2-2" }}
          </strong>
        </div>
      </div>
      <button
        class="mt-6 w-full bg-[#5e6d72] text-white px-4 py-2 rounded-lg hover:bg-[#8a999f] transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"
      >
        Ver todas Transações
      </button>
    </div>
  </div>
</div>
