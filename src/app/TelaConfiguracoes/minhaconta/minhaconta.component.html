<div class="min-h-screen bg-[#F8F7F5] p-2 sm:p-4 md:p-6">
  <div class="max-w-6xl mx-auto px-2 sm:px-4">
    <!-- Card principal com efeito de vidro -->
    <div
      class="bg-white/80 backdrop-blur-lg rounded-2xl sm:rounded-3xl shadow-2xl border border-white/30 overflow-hidden animate-fadeIn"
    >
      <!-- Header com gradiente e elementos decorativos -->
      <div class="relative overflow-hidden">
        <div
          class="absolute top-0 right-0 w-32 h-32 sm:w-64 sm:h-64 bg-[#D8EAE5] opacity-20 rounded-full -mr-16 sm:-mr-32 -mt-16 sm:-mt-32 animate-float1"
        ></div>
        <div
          class="absolute bottom-0 left-0 w-24 h-24 sm:w-48 sm:h-48 bg-[#013E4C] opacity-10 rounded-full -ml-12 sm:-ml-24 -mb-12 sm:-mb-24 animate-float2"
        ></div>

        <div class="relative z-10 p-4 sm:p-6 md:p-8">
          <div
            class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-6"
          >
            <div class="space-y-1 sm:space-y-2">
              <h1
                class="text-xl sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#1C6956] to-[#013E4C] bg-clip-text text-transparent"
              >
                Minha Conta
              </h1>
              <p class="text-xs sm:text-sm md:text-base text-[#5e6d72]">
                Gerencie suas informações pessoais
              </p>
            </div>

            <!-- Avatar com efeito de hover -->
            <div class="group relative">
              <div
                class="w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-[#1C6956] to-[#013E4C] p-0.5 shadow-lg group-hover:shadow-xl transition-all duration-300"
              >
                <div
                  class="w-full h-full rounded-full bg-white p-1 flex items-center justify-center"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 text-[#1C6956] group-hover:scale-110 transition-transform duration-300"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                    />
                  </svg>
                </div>
              </div>
              <div
                class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-[#1C6956] text-white text-xs px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
                {{
                  usuario
                    ? usuario.nome
                      ? usuario.nome.split(" ")[0]
                      : "Usuário"
                    : "Usuário"
                }}
              </div>
            </div>
          </div>
        </div>
      </div>

      @if (loading) {
      <!-- Loading state com animação -->
      <div
        class="flex items-center justify-center min-h-[50vh] sm:min-h-[60vh] w-full"
      >
        <div class="text-center space-y-4 sm:space-y-6">
          <div class="relative w-16 h-16 sm:w-24 sm:h-24 mx-auto">
            <div
              class="absolute inset-0 rounded-full border-4 border-[#1C6956] border-t-transparent animate-spin"
            ></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <i
                class="fas fa-user text-[#1C6956] text-2xl sm:text-3xl animate-bounce"
              ></i>
            </div>
          </div>
          <p
            class="text-base sm:text-lg font-medium text-[#5e6d72] animate-pulse"
          >
            Carregando suas informações...
          </p>
        </div>
      </div>
      } @else {
      <!-- Conteúdo Principal -->
      <div class="p-4 sm:p-6 md:p-8 space-y-6 sm:space-y-8">
        <!-- Status da Conta -->
        <div
          class="bg-gradient-to-br from-white to-[#F8F7F5] rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-slideInRight"
        >
          <div class="flex items-center justify-between mb-4 sm:mb-6">
            <div class="space-y-1">
              <h2
                class="text-lg sm:text-xl md:text-2xl font-bold text-[#013E4C]"
              >
                Status da Conta
              </h2>
              <p class="text-xs sm:text-sm text-[#5e6d72]">
                Informações sobre sua conta
              </p>
            </div>
            <div
              class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[#D8EAE5] flex items-center justify-center"
            >
              <i
                class="fas fa-shield-alt text-[#1C6956] text-lg sm:text-xl"
              ></i>
            </div>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
            <!-- Status de Verificação -->
            <div
              class="bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 shadow-sm hover:shadow-md transition-all duration-300"
            >
              <div class="flex items-center space-x-3 sm:space-x-4">
                <div
                  class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#D8EAE5] flex items-center justify-center"
                >
                  <i
                    class="fas fa-check-circle text-[#1C6956] text-sm sm:text-base"
                  ></i>
                </div>
                <div>
                  <h3 class="text-xs sm:text-sm font-medium text-[#5e6d72]">
                    Verificação
                  </h3>
                  <div class="mt-1">
                    <span
                      class="inline-flex items-center px-2 py-0.5 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium"
                      [ngClass]="{
                        'bg-green-100 text-green-800': usuario?.enabled,
                        'bg-yellow-100 text-yellow-800': !usuario?.enabled
                      }"
                    >
                      {{ usuario?.enabled ? "Verificado" : "Pendente" }}
                    </span>
                    @if (!usuario?.enabled) {
                    <span class="ml-2 text-xs sm:text-sm text-[#5e6d72]">
                      (Confirme seu e-mail)
                    </span>
                    }
                  </div>
                </div>
              </div>
            </div>

            <!-- Saldo Disponível -->
            <div
              class="bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 shadow-sm hover:shadow-md transition-all duration-300"
            >
              <div class="flex items-center space-x-3 sm:space-x-4">
                <div
                  class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#D8EAE5] flex items-center justify-center"
                >
                  <i
                    class="fas fa-wallet text-[#1C6956] text-sm sm:text-base"
                  ></i>
                </div>
                <div>
                  <h3 class="text-xs sm:text-sm font-medium text-[#5e6d72]">
                    Saldo disponível
                  </h3>
                  <p class="mt-1 text-lg sm:text-xl font-bold text-[#013E4C]">
                    {{
                      usuario?.saldoGeral
                        | currency : "BRL" : "symbol" : "1.2-2"
                    }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Edição de Perfil -->
        <div
          class="bg-gradient-to-br from-white to-[#F8F7F5] rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-slideInRight"
        >
          <div class="flex items-center justify-between mb-4 sm:mb-6">
            <div class="space-y-1">
              <h2
                class="text-lg sm:text-xl md:text-2xl font-bold text-[#013E4C]"
              >
                Editar Perfil
              </h2>
              <p class="text-xs sm:text-sm text-[#5e6d72]">
                Atualize suas informações pessoais
              </p>
            </div>
            <div
              class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[#D8EAE5] flex items-center justify-center"
            >
              <i class="fas fa-user-edit text-[#1C6956] text-lg sm:text-xl"></i>
            </div>
          </div>

          <form class="space-y-4 sm:space-y-6">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
              <!-- Nome -->
              <div class="space-y-1 sm:space-y-2">
                <label
                  for="nome"
                  class="block text-xs sm:text-sm font-medium text-[#5e6d72]"
                >
                  Nome completo
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-user text-[#5e6d72] text-sm"></i>
                  </div>
                  <input
                    type="text"
                    id="nome"
                    name="nome"
                    [ngModel]="usuario?.nome"
                    (ngModelChange)="usuario && (usuario.nome = $event)"
                    class="block w-full pl-8 pr-3 py-2 text-sm sm:text-base border border-[#E0E5E7] rounded-lg focus:ring-2 focus:ring-[#1C6956] focus:border-[#1C6956] transition-all duration-300"
                  />
                </div>
              </div>

              <!-- Email -->
              <div class="space-y-1 sm:space-y-2">
                <label
                  for="email"
                  class="block text-xs sm:text-sm font-medium text-[#5e6d72]"
                >
                  Endereço de e-mail
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-envelope text-[#5e6d72] text-sm"></i>
                  </div>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    [ngModel]="usuario?.email"
                    disabled
                    class="block w-full pl-8 pr-3 py-2 text-sm sm:text-base border border-[#E0E5E7] rounded-lg bg-[#F8F7F5] focus:ring-2 focus:ring-[#1C6956] focus:border-[#1C6956] transition-all duration-300"
                  />
                </div>
              </div>
            </div>

            <div class="flex justify-end">
              <button
                type="button"
                class="cursor-pointer inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium text-white bg-gradient-to-r from-[#1C6956] to-[#013E4C] hover:from-[#013E4C] hover:to-[#1C6956] rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1C6956] transition-all duration-300"
              >
                <i
                  class="cursor-pointer fas fa-save mr-1 sm:mr-2 text-xs sm:text-sm"
                ></i>
                Salvar alterações
              </button>
            </div>
          </form>
        </div>

        <!-- Alteração de Senha -->
        <div
          class="bg-gradient-to-br from-white to-[#F8F7F5] rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-slideInRight"
        >
          <div class="flex items-center justify-between mb-4 sm:mb-6">
            <div class="space-y-1">
              <h2
                class="text-lg sm:text-xl md:text-2xl font-bold text-[#013E4C]"
              >
                Segurança
              </h2>
              <p class="text-xs sm:text-sm text-[#5e6d72]">
                Altere sua senha periodicamente
              </p>
            </div>
            <div
              class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[#D8EAE5] flex items-center justify-center"
            >
              <i class="fas fa-lock text-[#1C6956] text-lg sm:text-xl"></i>
            </div>
          </div>

          <form
            [formGroup]="senhaForm"
            (ngSubmit)="alterarSenha()"
            class="space-y-4 sm:space-y-6"
          >
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
              <!-- Senha Atual -->
              <div class="space-y-1 sm:space-y-2">
                <label
                  for="senhaAtual"
                  class="block text-xs sm:text-sm font-medium text-[#5e6d72]"
                >
                  Senha atual
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-key text-[#5e6d72] text-sm"></i>
                  </div>
                  <input
                    formControlName="senhaAtual"
                    type="password"
                    id="senhaAtual"
                    class="block w-full pl-8 pr-3 py-2 text-sm sm:text-base border border-[#E0E5E7] rounded-lg focus:ring-2 focus:ring-[#1C6956] focus:border-[#1C6956] transition-all duration-300"
                    placeholder="Digite sua senha atual"
                  />
                </div>
                @if (senhaForm.controls.senhaAtual.invalid &&
                senhaForm.controls.senhaAtual.touched) {
                <p class="text-red-500 text-xs mt-1">
                  Senha atual é obrigatória.
                </p>
                }
              </div>

              <!-- Nova Senha -->
              <div class="space-y-1 sm:space-y-2">
                <label
                  for="novaSenha"
                  class="block text-xs sm:text-sm font-medium text-[#5e6d72]"
                >
                  Nova senha
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-lock text-[#5e6d72] text-sm"></i>
                  </div>
                  <input
                    formControlName="novaSenha"
                    type="password"
                    id="novaSenha"
                    class="block w-full pl-8 pr-3 py-2 text-sm sm:text-base border border-[#E0E5E7] rounded-lg focus:ring-2 focus:ring-[#1C6956] focus:border-[#1C6956] transition-all duration-300"
                    placeholder="Digite sua nova senha"
                  />
                </div>
                @if (senhaForm.controls.novaSenha.invalid &&
                senhaForm.controls.novaSenha.touched) {
                <p class="text-red-500 text-xs mt-1">
                  A senha deve ter pelo menos 6 caracteres.
                </p>
                }
              </div>

              <!-- Confirmar Senha -->
              <div class="space-y-1 sm:space-y-2">
                <label
                  for="confirmarSenha"
                  class="block text-xs sm:text-sm font-medium text-[#5e6d72]"
                >
                  Confirmar nova senha
                </label>
                <div class="relative">
                  <div
                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                  >
                    <i class="fas fa-lock text-[#5e6d72] text-sm"></i>
                  </div>
                  <input
                    formControlName="confirmarSenha"
                    type="password"
                    id="confirmarSenha"
                    class="block w-full pl-8 pr-3 py-2 text-sm sm:text-base border border-[#E0E5E7] rounded-lg focus:ring-2 focus:ring-[#1C6956] focus:border-[#1C6956] transition-all duration-300"
                    placeholder="Confirme sua nova senha"
                  />
                </div>
                @if (senhaForm.hasError('senhasNaoCoincidem')) {
                <p class="text-red-500 text-xs mt-1">
                  As senhas não coincidem.
                </p>
                }
              </div>
            </div>

            <div class="flex justify-end">
              <button
                type="submit"
                class="cursor-pointer inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium text-white bg-gradient-to-r from-[#1C6956] to-[#013E4C] hover:from-[#013E4C] hover:to-[#1C6956] rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1C6956] transition-all duration-300"
                [disabled]="senhaForm.invalid || isSubmitting"
              >
                <i class="fas fa-key mr-1 sm:mr-2 text-xs sm:text-sm"></i>
                Alterar senha
              </button>
            </div>
          </form>
        </div>
      </div>
      }
    </div>
  </div>
</div>

<!-- Animações personalizadas -->
<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes float1 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(-10px, -10px);
    }
  }

  @keyframes float2 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(10px, 10px);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .animate-slideInRight {
    animation: slideInRight 0.5s ease-out forwards;
  }

  .animate-float1 {
    animation: float1 6s ease-in-out infinite;
  }

  .animate-float2 {
    animation: float2 7s ease-in-out infinite;
  }
</style>
